//! This code was AUTOGENERATED using the codama library.
//! Please DO NOT EDIT THIS FILE, instead use visitors
//! to add features, then rerun codama to update it.
//!
//! <https://github.com/codama-idl/codama>
//!
syntax = "proto3";

package vixen.parser.moonit;

message BuyIx {
	BuyIxAccounts accounts = 1;
	BuyIxData data = 2;
}

message BuyWithBeAuthorityIx {
	BuyWithBeAuthorityIxAccounts accounts = 1;
	BuyWithBeAuthorityIxData data = 2;
}

message ConfigInitIx {
	ConfigInitIxAccounts accounts = 1;
	ConfigInitIxData data = 2;
}

message ConfigUpdateIx {
	ConfigUpdateIxAccounts accounts = 1;
	ConfigUpdateIxData data = 2;
}

message MigrateFundsIx {
	MigrateFundsIxAccounts accounts = 1;
}

message SellIx {
	SellIxAccounts accounts = 1;
	SellIxData data = 2;
}

message TokenMintIx {
	TokenMintIxAccounts accounts = 1;
	TokenMintIxData data = 2;
}


message ConfigParams {
	optional string migration_authority = 1;
	optional string backend_authority = 2;
	optional string config_authority = 3;
	optional string helio_fee = 4;
	optional string dex_fee = 5;
	optional uint32 fee_bps = 6;
	optional uint32 dex_fee_share = 7;
	optional uint64 migration_fee = 8;
	optional uint64 linear_curve_mcap_threshold = 9;
	optional uint32 marketcap_currency = 10;
	optional uint32 min_supported_decimal_places = 11;
	optional uint32 max_supported_decimal_places = 12;
	optional uint64 min_supported_token_supply = 13;
	optional uint64 max_supported_token_supply = 14;
	optional uint32 coef_b = 15;
	optional uint64 constant_product_v1_mcap_threshold = 16;
	optional uint64 constant_product_v2_mcap_threshold = 17;
}

enum Currency {
	CurrencySol = 0;
}

enum CurveType {
	CurveTypeLinearV1 = 0;
	CurveTypeConstantProductV1 = 1;
	CurveTypeConstantProductV2 = 2;
	CurveTypeFlatCurveV1 = 3;
	CurveTypeFlatCurveV1AntiSnipe = 4;
}

message MigrationEvent {
	uint64 tokens_migrated = 1;
	uint64 tokens_burned = 2;
	uint64 collateral_migrated = 3;
	uint64 fee = 4;
	string label = 5;
}

enum MigrationTarget {
	MigrationTargetValiant = 0;
}

message TradeEvent {
	uint64 amount = 1;
	uint64 collateral_amount = 2;
	uint64 dex_fee = 3;
	uint64 helio_fee = 4;
	uint64 allocation = 5;
	string curve = 6;
	string cost_token = 7;
	string sender = 8;
	TradeType trade_type = 9;
	string label = 10;
}

message TradeParams {
	uint64 token_amount = 1;
	uint64 collateral_amount = 2;
	uint32 fixed_side = 3;
	uint64 slippage_bps = 4;
}

enum TradeType {
	TradeTypeBuy = 0;
	TradeTypeSell = 1;
}


message ConfigAccount {
	string migration_authority = 1;
	string backend_authority = 2;
	string config_authority = 3;
	string helio_fee = 4;
	string dex_fee = 5;
	uint32 fee_bps = 6;
	uint32 dex_fee_share = 7;
	uint64 migration_fee = 8;
	uint64 linear_curve_mcap_threshold = 9;
	Currency marketcap_currency = 10;
	uint32 min_supported_decimal_places = 11;
	uint32 max_supported_decimal_places = 12;
	uint64 min_supported_token_supply = 13;
	uint64 max_supported_token_supply = 14;
	uint32 bump = 15;
	uint32 coef_b = 16;
	uint64 constant_product_v1_mcap_threshold = 17;
	uint64 constant_product_v2_mcap_threshold = 18;
}

message CurveAccount {
	uint64 total_supply = 1;
	uint64 curve_amount = 2;
	string mint = 3;
	uint32 decimals = 4;
	Currency collateral_currency = 5;
	CurveType curve_type = 6;
	uint64 marketcap_threshold = 7;
	Currency marketcap_currency = 8;
	uint64 migration_fee = 9;
	uint32 coef_b = 10;
	uint32 bump = 11;
	MigrationTarget migration_target = 12;
	uint32 price_increase = 13;
}


message BuyIxAccounts {
	string sender = 1;
	string sender_token_account = 2;
	string curve_account = 3;
	string curve_token_account = 4;
	string dex_fee = 5;
	string helio_fee = 6;
	string mint = 7;
	string config_account = 8;
	string token_program = 9;
	string associated_token_program = 10;
	string system_program = 11;
}

message BuyIxData {
	TradeParams data = 1;
}

message BuyWithBeAuthorityIxAccounts {
	string backend_authority = 1;
	string sender = 2;
	string sender_token_account = 3;
	string curve_account = 4;
	string curve_token_account = 5;
	string dex_fee = 6;
	string helio_fee = 7;
	string mint = 8;
	string config_account = 9;
	string token_program = 10;
	string associated_token_program = 11;
	string system_program = 12;
}

message BuyWithBeAuthorityIxData {
	TradeParams data = 1;
}

message ConfigInitIxAccounts {
	string config_authority = 1;
	string config_account = 2;
	string system_program = 3;
}

message ConfigInitIxData {
	ConfigParams data = 1;
}

message ConfigUpdateIxAccounts {
	string config_authority = 1;
	string config_account = 2;
}

message ConfigUpdateIxData {
	ConfigParams data = 1;
}

message MigrateFundsIxAccounts {
	string backend_authority = 1;
	string migration_authority = 2;
	string curve_account = 3;
	string curve_token_account = 4;
	string migration_authority_token_account = 5;
	string mint = 6;
	string dex_fee_account = 7;
	string helio_fee_account = 8;
	string config_account = 9;
	string system_program = 10;
	string token_program = 11;
	string associated_token_program = 12;
}


message SellIxAccounts {
	string sender = 1;
	string sender_token_account = 2;
	string curve_account = 3;
	string curve_token_account = 4;
	string dex_fee = 5;
	string helio_fee = 6;
	string mint = 7;
	string config_account = 8;
	string token_program = 9;
	string associated_token_program = 10;
	string system_program = 11;
}

message SellIxData {
	TradeParams data = 1;
}

message TokenMintIxAccounts {
	string sender = 1;
	string backend_authority = 2;
	string curve_account = 3;
	string mint = 4;
	string mint_metadata = 5;
	string curve_token_account = 6;
	string config_account = 7;
	string token_program = 8;
	string associated_token_program = 9;
	string mpl_token_metadata = 10;
	string system_program = 11;
}

message TokenMintIxData {
	string name = 1;
	string symbol = 2;
	string uri = 3;
	uint32 decimals = 4;
	uint32 collateral_currency = 5;
	uint64 amount = 6;
	uint32 curve_type = 7;
	uint32 migration_target = 8;
	uint32 price_increase = 9;
	uint64 collateral_collected = 10;
}


message ProgramState {
    oneof state_oneof {
        	ConfigAccount config_account = 1;
        	CurveAccount curve_account = 2;
        }
}

message ProgramIxs {
    oneof ix_oneof {
        	BuyIx buy = 1;
        	BuyWithBeAuthorityIx buy_with_be_authority = 2;
        	ConfigInitIx config_init = 3;
        	ConfigUpdateIx config_update = 4;
        	MigrateFundsIx migrate_funds = 5;
        	SellIx sell = 6;
        	TokenMintIx token_mint = 7;
        }
}

